"use strict";var a=Object.defineProperty;var o=Object.getOwnPropertyDescriptor;var c=Object.getOwnPropertyNames;var p=Object.prototype.hasOwnProperty;var u=(r,n)=>{for(var t in n)a(r,t,{get:n[t],enumerable:!0})},d=(r,n,t,i)=>{if(n&&typeof n=="object"||typeof n=="function")for(let e of c(n))!p.call(r,e)&&e!==t&&a(r,e,{get:()=>n[e],enumerable:!(i=o(n,e))||i.enumerable});return r};var g=r=>d(a({},"__esModule",{value:!0}),r);var P={};u(P,{changePlan:()=>h,getActiveSubscription:()=>m,getManagementUrls:()=>b,getPlans:()=>l,previewPlan:()=>I});module.exports=g(P);var s=process.env.SAAZPAY_BASE_URL,l=async({appId:r})=>{if(!s)throw new Error("Saazpay base URL is not defined");return await fetch(`${s}/api/v1/plans?id=${r}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${process.env.SAAZPAY_API_KEY}`}}).then(t=>t.json()).catch(t=>t)},m=async({appId:r,userId:n})=>{if(!s)throw new Error("Saazpay base URL is not defined");return await fetch(`${s}/api/v1/subscriptions?appId=${r}&userId=${n}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${process.env.SAAZPAY_API_KEY}`}}).then(i=>i.json()).catch(i=>i)},b=async({appId:r,subscriptionId:n})=>{if(!s)throw new Error("Saazpay base URL is not defined");return await fetch(`${s}/api/v1/subscriptions/management?appId=${r}&subscriptionId=${n}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${process.env.SAAZPAY_API_KEY}`}}).then(i=>i.json()).catch(i=>(console.error(i),""))},I=async({subscriptionId:r,newPlanId:n,appId:t})=>{if(!s)throw new Error("Saazpay base URL is not defined");return await fetch(`${s}/api/v1/subscriptions/management/preview-plan?appId=${t}&subscriptionId=${r}&newPlanId=${n}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${process.env.SAAZPAY_API_KEY}`}}).then(e=>e.json()).catch(e=>e)},h=async({subscriptionId:r,newPlanId:n,appId:t})=>{if(!s)throw new Error("Saazpay base URL is not defined");return await fetch(`${s}/api/v1/subscriptions/management/change-plan?appId=${t}&subscriptionId=${r}&newPlanId=${n}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${process.env.SAAZPAY_API_KEY}`}}).then(e=>e.json()).catch(e=>e)};0&&(module.exports={changePlan,getActiveSubscription,getManagementUrls,getPlans,previewPlan});
//# sourceMappingURL=index.cjs.map